# 社会人チーム 部費管理Webアプリケーション 開発仕様書

## 概要

社会人スポーツチームの部費をWebブラウザ上で一元管理するアプリケーション。  
現在スプレッドシートで行っている以下の業務を置き換える。

- 部員の部費支払い状況の記録・確認
- チーム残高の管理
- 支出の記録・集計

---

## ユーザー種別

| 種別 | 説明 |
|------|------|
| 管理者 | 部費・支出の登録、部員管理ができる |
| 一般部員 | 自分の支払い状況・チームの収支を閲覧のみ |

> ※ 初期実装はシングルロール（管理者のみ）でも可

---

## 機能要件

### 1. 部員管理

- 部員の登録・編集・削除（名前、ポジション、連絡先など）
- 部員一覧の表示（支払い済み／未払いのステータス付き）
- 部員ごとの支払い履歴の確認

### 2. 部費徴収管理

- 徴収イベントの作成（例：「2025年4月分 月会費 ¥3,000」）
- 徴収イベントごとに部員の支払い済み・未払いを記録
- 未払い者の一覧表示・リマインド用リスト出力
- 支払い方法の記録（現金・振込など）

### 3. 残高管理

- チームの現在残高をダッシュボードに表示
- 収入（部費徴収）と支出の差分でリアルタイム更新

### 4. 支出管理

- 支出の登録（日付、金額、カテゴリ、メモ）
- カテゴリ例：練習場代、遠征費、備品購入、懇親会 など
- 支出一覧の表示・編集・削除

### 5. 収支レポート

- 月別・年別の収支サマリー表示
- 収支の棒グラフ・推移グラフ
- CSVエクスポート機能

---

## 画面構成

```
├── ダッシュボード（残高・直近の収支・未払い人数）
├── 部員管理
│   ├── 部員一覧
│   └── 部員詳細・編集
├── 部費徴収
│   ├── 徴収イベント一覧
│   └── 徴収イベント詳細（部員ごとの支払い状況）
├── 支出管理
│   ├── 支出一覧
│   └── 支出登録・編集
└── レポート（収支グラフ・サマリー）
```

---

## データモデル

### 部員（Member）

| フィールド | 型 | 説明 |
|---|---|---|
| id | UUID | 主キー |
| 名前 | string | 氏名 |
| ふりがな | string | 読み仮名 |
| ポジション | string | 役職・ポジション |
| 連絡先 | string | メールアドレス等 |
| 在籍状態 | enum | 在籍 / 退部 |
| 登録日 | date | 登録日時 |

### 徴収イベント（FeeEvent）

| フィールド | 型 | 説明 |
|---|---|---|
| id | UUID | 主キー |
| タイトル | string | 例：2025年4月分 月会費 |
| 金額 | integer | 徴収金額（円） |
| 徴収期限 | date | 支払い期限 |
| 備考 | string | 自由記述 |
| 作成日 | date | 作成日時 |

### 支払い記録（Payment）

| フィールド | 型 | 説明 |
|---|---|---|
| id | UUID | 主キー |
| 部員id | UUID | Memberへの外部キー |
| 徴収イベントid | UUID | FeeEventへの外部キー |
| 支払い状態 | enum | 未払い / 支払済 |
| 支払い日 | date | 実際の支払い日 |
| 支払い方法 | enum | 現金 / 振込 / その他 |
| メモ | string | 備考 |

### 支出（Expense）

| フィールド | 型 | 説明 |
|---|---|---|
| id | UUID | 主キー |
| 日付 | date | 支出発生日 |
| 金額 | integer | 支出金額（円） |
| カテゴリ | string | 練習場代・遠征費など |
| メモ | string | 用途の詳細 |
| 登録者 | string | 登録した管理者名 |

---

## 技術要件（推奨スタック）

| 項目 | 推奨 |
|------|------|
| フロントエンド | React / Next.js |
| バックエンド | Next.js API Routes または Node.js（Express） |
| データベース | PostgreSQL / SQLite（小規模であれば） |
| 認証 | NextAuth.js など |
| ホスティング | Vercel / Railway / Render |

> ※ シンプルなPoCであればReact + ローカルストレージのみでも可

---

## 非機能要件

- スマートフォンからも操作できるレスポンシブデザイン
- 複数人が同時に操作できること（リアルタイム性は必須ではない）
- データのバックアップ・エクスポート手段を持つこと

---

## リリース計画（優先順位）

### Phase 1（MVP）

1. 部員登録・一覧
2. 徴収イベント作成・支払い状況の記録
3. 支出の登録・一覧
4. ダッシュボード（残高・未払い者数の表示）
5. CSVエクスポート

### Phase 2

6. 収支レポート・グラフ表示
7. 権限管理・ログイン機能

---

